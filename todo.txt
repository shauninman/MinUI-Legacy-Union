excuse the mess, this needs some serious pruning...








finish stubbing out skeleton and the root makefile








trimui
	figure out why the platform/trimui/skin directory doesn't exist on the trimui-model-s branch of picodrive

miyoo
	recent.txt randomly getting nuked
		possibly only when force to cut power?
		or if I return to the main menu with no sd inserted?
			no that's not it
	gambatte
		sound latency
		screen tearing

- build an SD card image?

- then tackle gambatte (use od/350 version as base?)
	- figure out how to submodule these subtlely different repos
- snap.miyoomini.bmp is broken? missing text, fills?
	- use cat /dev/fb0 > snap.miyoomini.raw instead?
	- if you save the video surface instead of the buffer surface it's upside down
	- maybe it won't matter for save state screenshots?
		- doesn't matter for save states

- build own version of SDL that rotates on flip instead of hw blit
	- that's going to be challenging if only because audio is mess

- there's a crackle when booting on mini
	- THIS PROBLEM EXISTS ON STOCK
	- also when opening the native menu in gambatte
	- try setting volume to 40 in MinUI.pak/launch.sh
		- no effect
	- check keymon for audio init code?
	- it could be from sdl audio starting up or pausing/resuming?
		- I think after it happens volume is different

- add charging icon on devices that support it

why is initPlatform in common.h and not platform.h (it's implemented in platform.c so...)
move screen init and flipping logic to platform? 
	maybe there's a struct with member functions so we only need to override the default behavior on change?
	or even just a function pointer instead?



NOTE: platform is still determined at compile time, only SDCARD_PATH, SCREEN_WIDTH, and SCREEN_HEIGHT are really determined at runtime!

- shell script to copy updated builds to SD card
	
NOTE: new SD is incompatible with old SD auto launcher on stock dingux because of system path changes


- figure out how to handle supporting multiple resolutions on the same platform in emulators
	- scalers by resolution?
		- 640x480 has more interesting options available than 320x240
		- maybe just separate preferences by resolution?
	- another wrinkle: previews when sharing between a 1x and 2x device on the same platform...
		- flag a platform for having multiple resolutions and save the preview at both sizes? eg. 320x240 and 160x120?
			- lower res devices only need to scale once
			- higher res devices need to scale twice
	
	- in gambatte on odbeta I split out scaler into separate dmg and gbc scalers
		- port back to rg350? yes, well, no. not a port, stock and odbeta should share the same source
	- in gambatte the weird resolutions + IPU scaling cause mmenu issues on 640x480 screens (not an issue at 320x240)
		- limit options by resolution, don't use IPU
		- 1x, 2x, 3x
	- retroarch is getting more and more appealing...port picoarch?
- tweak text alignment per platform
- update toolchains to use PLATFORM_OD instead of PLATFORM_RG350?

- BUG: settings changes aren't being saved on the RG350M (or is it stockod as a whole? maybe rg350 was in a hardcoded path in settings?)

- package up Trimui's toolchain folder and upload it to github for safekeeping?
	- maybe do for all union toolchains?
- build an SD card image
- create the Union.sh launch installer
	- Trimui/Mini don't need one, they have .tmp_update on SD
	- RG300 has /home/retrofw
	- I think RS-90 (and regular odbeta?) can use /etc/hostname?
	- stock od by process of elimination?
- create union forks of each emulator and apply my changes
	- can't fork my own repos :facepalm:
- make Union/MinUI logo a toggle?
- add RGB10 Max 2 support (854x480)
	same vertical alignments as 640x480
	just make sure edge pinning is setup correctly for horizontal alignments

- force nearest neighbor on od stock/beta?
	- see https://git.libretro.com/libretro/RetroArch/-/blob/master/dingux/dingux_utils.c
	- set to 0 for nn
		stock: 	/sys/devices/platform/jz-lcd.0/sharpness_upscaling
		beta:	SDL_VIDEO_KMSDRM_SCALING_SHARPNESS

trimui
	see if I can export gpio to find charging status?
		67 is USB Power
	not seeing hte interface for this in sys

- drop RS-90 support?
	- yes, 300 or mini will replace that form factor
- drop retrofw/RG300 support?
	- yes, seems to be in a state of unstable upheaval

BUILDING GAMBATTE
	PLATFORM=gcw0 ./build_minui.sh


SUBPIXEL SIMULATION SCALERS
	subpixel separation is pretty simple in Photoshop
		1. duplicate your layer three times, name each red, green, blue
		2. adjust the Curves to remove the other two colors, eg. remove green and blue from red, etc
		3. mask with your subpixel shape
		4. fill excess with black